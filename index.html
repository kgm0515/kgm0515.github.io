<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- 添加视口属性变为移动页面 -->
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>京东移动站</title>
	<!-- 导入css -->
	<link rel="stylesheet" type="text/css" href="css/base.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<!-- 导入自己写的js -->
	<!-- <script type="text/javascript" src="js/index.js"></script> -->
</head>
<body>
	<!-- 最外层的容器盒子 -->
	<div class="jd_container">
		<!-- 顶部通栏 -->
		<div class="jd_header">
			<a href="javascript:void(0)" class="header_logo"></a>
			<span class="header_glass"></span>
			<input type="search" class="header_search" placeholder="请输入内容">
			<a href="javascript:void(0)" class="header_login">登陆</a>
		</div>
		<!-- 顶部的轮播图 -->
		<div class="jd_banner">
			<ul class="banner_images clearfix">
				<li><a href="#"><img src="images/l8.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l1.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l2.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l3.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l4.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l5.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l6.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l7.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l8.jpg" alt=""></a></li>
				<li><a href="#"><img src="images/l1.jpg" alt=""></a></li>
			</ul>
			<ul class="banner_index clearfix">
				<li class="current"></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</div>
		<!-- 导航栏 -->
		<div class="jd_nav">
			<ul class="clearfix">
				<li><a href="#">
						<img src="images/nav0.png" alt="">
						<p>分类查询</p>
					</a></li>
				<li><a href="#">
						<img src="images/nav1.png" alt="">
						<p>分类查询</p>
					</a></li>
				<li><a href="#">
						<img src="images/nav2.png" alt="">
						<p>分类查询</p>
					</a></li>
				<li><a href="#">
						<img src="images/nav3.png" alt="">
						<p>分类查询</p>
					</a></li>
				<li><a href="#">
						<img src="images/nav4.png" alt="">
						<p>分类查询</p>
					</a></li>
				<li><a href="#">
						<img src="images/nav5.png" alt="">
						<p>分类查询</p>
					</a></li>
				<li><a href="#">
						<img src="images/nav6.png" alt="">
						<p>分类查询</p>
					</a></li>
				<li><a href="#">
						<img src="images/nav7.png" alt="">
						<p>分类查询</p>
					</a></li>
				
			</ul>
		</div>
		<!-- 主要内容区 -->
		<div class="jd_main">
			<!-- 第一个盒子内容需要特殊设置 -->
			<div class="main_content">
				<!-- 清除浮动 -->
				<div class="content_top">
					<span></span>
					<p>掌上秒杀</p>
					<ul>
						<li>0</li>
						<li>0</li>
						<li>:</li>
						<li>0</li>
						<li>0</li>
						<li>:</li>
						<li>0</li>
						<li>0</li>
					</ul>
					<a href="#">更多&gt;</a>
				</div>
				<div class="content_bottom">
					<ul class="clearfix">
						<li>
							<a href="#"><img src="images/detail01.jpg" alt=""></a>
							<p>¥10.00</p>
							<p>¥100.00</p>
						</li>
						<li>
							<a href="#"><img src="images/detail02.jpg" alt=""></a>
							<p>¥10.00</p>
							<p>¥100.00</p>
						</li>
						<li>
							<a href="#"><img src="images/detail01.jpg" alt=""></a>
							<p>¥10.00</p>
							<p>¥100.00</p>
						</li>
					</ul>
				</div>
			</div>
			<!-- 第一个后面的盒子 -->
			<div class="main_content">
				<div class="content_top clearfix">
					<span class="fl">京东超市</span>
				</div>
				<div class="content_bottom">
					<ul class="clearfix">
						<li class="fl br"><a href="#"><img src="images/cp1.jpg" alt=""></a></li>
						<li class="fr bd"><a href="#"><img src="images/cp2.jpg" alt=""></a></li>
						<li class="fr"><a href="#"><img src="images/cp3.jpg" alt=""></a></li>
					</ul>
				</div>
			</div>
			<div class="main_content">
				<div class="content_top clearfix">
					<span class="fl">京东超市</span>
				</div>
				<div class="content_bottom">
					<ul class="clearfix">
						<li class="fr bl"><a href="#"><img src="images/cp4.jpg" alt=""></a></li>
						<li class="fl bd"><a href="#"><img src="images/cp5.jpg" alt=""></a></li>
						<li class="fl"><a href="#"><img src="images/cp6.jpg" alt=""></a></li>
					</ul>
				</div>
			</div>
			<div class="main_content">
				<div class="content_top clearfix">
					<span class="fl">京东超市</span>
				</div>
				<div class="content_bottom">
					<ul class="clearfix">
						<li class="fr bl"><a href="#"><img src="images/cp1.jpg" alt=""></a></li>
						<li class="fl bd"><a href="#"><img src="images/cp3.jpg" alt=""></a></li>
						<li class="fl"><a href="#"><img src="images/cp2.jpg" alt=""></a></li>
					</ul>
				</div>
			</div>
		</div>

	</div>
</body>
</html>
<!-- zepto版本的代码 -->
<!-- 基础包 -->
<script type="text/javascript" src='js/zepto/zepto.min.js'></script>
<script type="text/javascript" src='js/zepto/fx.js'></script>
<!-- 如果 只是使用 touch的事件 可以不到 event这个包 -->
<script type="text/javascript" src='js/zepto/touch.js'></script>
<script type="text/javascript" src='js/zepto/event.js'></script>
<!-- <script type="text/javascript">
	$(function(){
		//定义index,记录拨动的张数
		var index=1;
		//定时器
		var timeid=null;
		//获取轮播图的宽度
		var  bannerWidth=$('.jd_banner').width();

		//定时器自动轮播
		var timeid=setInterval(function(){
			index++;
			console.log(index);
			//动画的方式,让ul进行移动
			$('.jd_banner ul:first-child').animate({
				transform:'translateX('+index*bannerWidth*-1+'px)'
			},300,function(){
				//console.log('滚动完毕');
				//判断index是否越界
				if(index>8){
					index=1;
					$(this).css('transform','translateX('+index*bannerWidth*-1+'px)');
				}
				//修改小圆点的索引
				$('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
			});
		},3000);

		//手指向左/向右拨动
		$('.jd_banner').swipeLeft(function(){
			//关闭定时器
			clearInterval(timeid);

			index++;
			console.log(index);
			//动画的方式,让ul进行移动
			$('.jd_banner ul:first-child').animate({
				transform:'translateX('+index*bannerWidth*-1+'px)'
			},300,function(){
				//console.log('滚动完毕');
				//判断index是否越界
				if(index>8){
					index=1;
					$(this).css('transform','translateX('+index*bannerWidth*-1+'px)');
				}
				//修改小圆点的索引
				$('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
				//过渡结束后开启定时器
				timeid=setInterval(function(){
					index++;
					console.log(index);
					//动画的方式,让ul进行移动
					$('.jd_banner ul:first-child').animate({
						transform:'translateX('+index*bannerWidth*-1+'px)'
					},300,function(){
						//console.log('滚动完毕');
						//判断index是否越界
						if(index>8){
							index=1;
							$(this).css('transform','translateX('+index*bannerWidth*-1+'px)');
						}
						//修改小圆点的索引
						$('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
					});
				},3000);
			});
		}).swipeRight(function(){
			index--;
			console.log(index);
			//动画的方式,让ul进行移动
			$('.jd_banner ul:first-child').animate({
				transform:'translateX('+index*bannerWidth*-1+'px)'
			},300,function(){
				//console.log('滚动完毕');
				//判断index是否越界
				if(index<1){
					index=8;
					$(this).css('transform','translateX('+index*bannerWidth*-1+'px)');
				}
				//修改小圆点的索引
				$('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
			});
		});
	});
</script> -->
<script type="text/javascript">
    $(function(){
    	//调用轮播图动画
    	banner()
    	//调用顶部通栏方法
    	headerScroll();
    	//调用倒计时效果
		cutDownTime(3);


    	//定义轮播图动画
	    function banner(){
	    	//定义index,记录拨动的张数
	        var index=1;
	        //定时器
	        var timeid=null;
	        //获取轮播图的宽度
	        var  bannerWidth=$('.jd_banner').width();

	        //定时器自动轮播
	        var timeid=setInterval(function(){
	            moveslide();
	        },3000);
	        //定义鼠标向左滑动事件
	        function moveslide(){
	            index++;
	            //console.log(index);
	            //动画的方式,让ul进行移动
	            $('.jd_banner ul:first-child').animate({
	                transform:'translateX('+index*bannerWidth*-1+'px)'
	            },300,function(){
	                //console.log('滚动完毕');
	                //判断index是否越界
	                if(index>8){
	                    index=1;
	                    $(this).css('transform','translateX('+index*bannerWidth*-1+'px)');
	                }
	                //修改小圆点的索引
	                $('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
	            });
	        }
	        //手指向左/向右拨动
	        $('.jd_banner').swipeLeft(function(){
	            //关闭定时器
	            clearInterval(timeid);

	            index++;
	            //console.log(index);
	            //动画的方式,让ul进行移动
	            $('.jd_banner ul:first-child').animate({
	                transform:'translateX('+index*bannerWidth*-1+'px)'
	            },300,function(){
	                //console.log('滚动完毕');
	                //判断index是否越界
	                if(index>8){
	                    index=1;
	                    $(this).css('transform','translateX('+index*bannerWidth*-1+'px)');
	                }
	                //修改小圆点的索引
	                $('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
	                //过渡结束后开启定时器
	                timeid=setInterval(function(){
	                    moveslide();
	                },3000);
	            });
	        }).swipeRight(function(){
	            //关闭定时器
	            clearInterval(timeid);
	            index--;
	            //console.log(index);
	            //动画的方式,让ul进行移动
	            $('.jd_banner ul:first-child').animate({
	                transform:'translateX('+index*bannerWidth*-1+'px)'
	            },300,function(){
	                //console.log('滚动完毕');
	                //判断index是否越界
	                if(index<1){
	                    index=8;
	                    $(this).css('transform','translateX('+index*bannerWidth*-1+'px)');
	                }
	                //修改小圆点的索引
	                $('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
	                //过渡结束后开启定时器
	                timeid=setInterval(function(){
	                    moveslide();
	                },3000);
	            });
	        });
	        //点击小圆点,改变当前图片
	        $('.jd_banner ul:last-child li').click(function(){
	        	//关闭定时器
	            clearInterval(timeid);

	            //给索引重新赋值
	        	index=$(this).index()+1;
	        	console.log(index);
	        	//判断index是否越界
	            if(index>8){
	                index=1;
	            }else if(index<1){
	            	index=8;
	            }
	            //跳转图片到当前索引值对应的图片
	            $('.jd_banner ul:first-child').css('transform','translateX('+index*bannerWidth*-1+'px)');
	            //修改小圆点的索引
	            $('.jd_banner ul:last-child li').removeClass('current').eq(index-1).addClass('current');
	            //过渡结束后开启定时器
	                timeid=setInterval(function(){
	                    moveslide();
	                },3000);
	        });
	    }; 
	    //定义顶部通栏
	    function headerScroll(){
			//获取导航栏底部到浏览器顶部距离
			var maxDistance=$(".jd_nav").offset().top+$(".jd_nav").offset().height;

			//2,注册onscroll事件
			window.onscroll=function(){
				//获取滚动距离
				var scrollDistance=window.scrollY;
				// 方法2 var scrollDistance=window.document.body.scrollTop;

				//计算百分数
				var percent=scrollDistance/maxDistance;
				
				//如果超过1,把persont还原为1;
				if(percent>1){
					percent=1;
				} 
				//计算顶部通栏的透明度
				$('.jd_header').css({backgroundColor:'rgba(201,21,35,'+percent+')'});
			}
	    }
	    //定义倒计时效果
	    function cutDownTime(time){
	    	//定义总时间time,(单位是小时)
			//转化为秒
			var totalSec=time*3600;
			//多加一秒,让用户看到的是整数
			totalSec++;
			//获取想要修改的所有li标签
			var liArr=$(".main_content:nth-child(1) .content_top li");
			//console.log(liArr);
			
			//开启定时器
			var timeId=setInterval(function(){
				//判断是否到期
				if(totalSec<=0){
					//清除定时器
					clearInterval(timeId);
					// console.log("结束了,你买不到了");
					return;
				}

				//递减
				totalSec--;
				//当前的时间对应多少小时/分/秒
				var hour=Math.floor(totalSec/3600);
				var minute=Math.floor(totalSec%3600/60);
				var sec=Math.floor(totalSec%60);

				//修改dom元素显示
				//小时
				liArr[0].innerHTML=Math.floor(hour/10);
				liArr[1].innerHTML=hour%10;
				//分
				liArr[3].innerHTML=Math.floor(minute/10);
				liArr[4].innerHTML=minute%10;
				//秒
				liArr[6].innerHTML=Math.floor(sec/10);
				liArr[7].innerHTML=sec%10;

			},1000);
	    }
    });
</script>